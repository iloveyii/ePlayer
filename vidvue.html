<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="Hazrat Ali" content="A PHP , VUE application">
        <link rel="icon" href="/app/assets/img/favicon.png">

        <title>Player Electron</title>

         <!-- Bootstrap CSS CDN -->
        <link rel="stylesheet" href="https://getbootstrap.com/docs/4.0/dist/css/bootstrap.min.css">
        <!-- Our Custom CSS -->
        <link rel="stylesheet" href="app/assets/css/style5.css">
        <!-- JQuery -->
        <script src="./app/assets/js/jquery.js"></script>
        <!-- Vue -->
        <script src="https://unpkg.com/vue"></script>
        <script src="https://cdn.jsdelivr.net/npm/vue-resource@1.5.1"></script>

        <style>
            .channelBar {
                position: absolute;
                width: 98%;
                opacity: 0.7;
                margin: 0;
                z-index: 100;
                height: 120px;
            }
            .channelBar button {
                border-radius: 0;
                padding: 2rem 2rem;
            }
            #buttonsRow {
                display: none;
            }
        </style>
    </head>
    <body>


    <div class="container-fluid">

        <div id="vue-app" class="channelBar" onmouseover="document.getElementById('buttonsRow').style.display='-webkit-box'" onmouseleave="document.getElementById('buttonsRow').style.display='none'">
            <div class="row" id="buttonsRow">
                <div v-for="channel in channels" class="col-sm">
                    <button v-bind:data-target="channel.url" onclick="loadVideo(this, 'https://video-dev.github.io/streams/x36xhzz/x36xhzz.m3u8')" type="button" v-bind:class="channel.htmlClass"> {{channel.name}}</button>
                </div>
            </div>
        </div>

    </div>

    <div class="container-fluid" id="container">
        <div id="videoRow">
            <video id="video" autoplay style="width: 100%" controls></video>
        </div>
    </div>


    <!-- jQuery CDN -->
    <script src="https://code.jquery.com/jquery-1.12.0.min.js"></script>
    <script src="https://code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
    <!-- Bootstrap Js CDN -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <script type="text/javascript">
        function loadVideo(e, filePath) {
            var filePath = $(e).data('target');
            let video = document.getElementById('video');
            if(Hls.isSupported()) {
                var hls = new Hls();
                hls.loadSource(filePath);
                hls.attachMedia(video);
                hls.on(Hls.Events.MANIFEST_PARSED,function() {
                    video.play();
                });
            }
            else if (video.canPlayType('application/vnd.apple.mpegurl')) {
                video.src = 'https://video-dev.github.io/streams/x36xhzz/x36xhzz.m3u8';
                video.addEventListener('loadedmetadata',function() {
                    video.play();
                });
            }
        }

     $(document).ready(function () {
         $('#fourthLeft').on('click', function (e) {
             window.resizeTo(screen.width/2, screen.height/2);
             window.moveTo(0, 0);
         });

         $('#fourthRight').on('click', function (e) {
             // window.resizeTo(screen.width/2, screen.height/2);
             window.moveBy(50 , 10);
         });

         $('#maxVideo').on('click', function (e) {
             $('#container').css("width", "100%");
             $('#container').css("padding", "0");
             $('#videoRow').css("padding", "0");
             $('#container').css("margin", "0");
             $('#videoRow').css("margin", "0");
             var vid = $('#video');
             vid.css("width", "100%");
             vid.css("height", "90%");
         });
     });
    </script>

    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <script>

    </script>
    <script src="app/assets/js/vidvue.js"></script>
    </body>
</html>
